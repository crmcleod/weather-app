(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(2),i=n.n(c),r=n(17),o=n.n(r),s=(n(23),n.p,n(24),n(5)),d=n.n(s),h=n(7),j=n(4),l=n(6),b=n.n(l),u=n(1),O=function(e){var t,n=e.day,c=(t={0:" \u2728 Clear night",1:" \u2600\ufe0f Sunny day",2:" \u26c5\ufe0f Partly cloudy (night)",3:" \u26c5\ufe0f Partly cloudy (day)",4:"Not used",5:" \ud83c\udf2b Mist",6:" \ud83c\udf2b Fog",7:" \u2601 Cloudy",8:" \ud83c\udf25 Overcast",9:" \u2614\ufe0f Light rain shower (night)",10:" \u2614\ufe0f Light rain shower (day)",11:" \u2614\ufe0f Drizzle",12:" \u2614\ufe0f Light rain",13:" \ud83c\udf27 Heavy rain shower (night)",14:" \ud83c\udf27 Heavy rain shower (day)",15:" \ud83c\udf27 Heavy rain",16:" \ud83c\udf27 \ud83c\udf28 Sleet shower (night)",17:"\ud83c\udf27 \ud83c\udf28 Sleet shower (day)",18:"\ud83c\udf27 \ud83c\udf28 Sleet",19:" \u2744\ufe0f Hail shower (night)",20:" \u2744\ufe0f Hail shower (day)",21:" \u2744\ufe0f Hail"},Object(u.a)(t,"18"," \ud83c\udf27 \ud83c\udf28 Sleet"),Object(u.a)(t,22," \ud83c\udf28 Light snow shower (night)"),Object(u.a)(t,23," \ud83c\udf28 Light snow shower (day)"),Object(u.a)(t,24," \ud83c\udf28 Light snow"),Object(u.a)(t,25," \ud83c\udf28\ud83c\udf28 Heavy snow shower (night)"),Object(u.a)(t,26," \ud83c\udf28\ud83c\udf28 Heavy snow shower (day)"),Object(u.a)(t,27," \ud83c\udf28\ud83c\udf28 Heavy snow"),Object(u.a)(t,28," \u26c8 Thunder shower (night)"),Object(u.a)(t,29," \u26c8 Thunder shower (day)"),Object(u.a)(t,30," \u26c8 Thunder"),t),i=n.Rep.map((function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"card-details",children:[Object(a.jsxs)("h4",{children:[(0+e.$)/60,":00"]}),Object(a.jsx)("p",{children:c[e.W]}),Object(a.jsxs)("p",{children:[" Temperature: ",e.T]}),Object(a.jsxs)("p",{children:[" Wind speed: ",e.S,"mph"]}),Object(a.jsxs)("p",{children:[" Wind gusts: ",e.G,"mph "]}),Object(a.jsxs)("p",{children:[" Chance of rain: ",e.Pp,"%"]})]},e.T)})}));return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"day-card",children:[Object(a.jsxs)("h1",{children:[" ",n.value.slice(0,10)," "]}),i]})})},y=function(e){var t,n=e.getTodaysWeather,i=(e.locations,e.setLocations),r=e.locationKey,o=e.handleSetKey,s=Object(c.useState)(),l=Object(j.a)(s,2),u=l[0],y=l[1],g=Object(c.useState)(r),w=Object(j.a)(g,2),p=w[0],x=w[1];Object(c.useEffect)(Object(h.a)(d.a.mark((function e(){var t,a,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(r),t=function(e,t){return"//datapoint.metoffice.gov.uk/public/data/val/wxfcs/all/json/".concat(e,"?res=3hourly&key=").concat(t)},e.next=4,b()(t(p,"deece287-3ead-4316-8d5e-8bbbf82172c1"));case 4:return a=e.sent,e.next=7,b()(t("sitelist","deece287-3ead-4316-8d5e-8bbbf82172c1"));case 7:c=e.sent,o=c.data.Locations.Location.map((function(e){return{location:e.name,id:e.id}})),y(a.data.SiteRep),i(o),n({metOfficeToday:a.data.SiteRep.DV.Location.Period[0].Rep[a.data.SiteRep.DV.Location.Period[0].Rep.map((function(e){return e.$})).indexOf("720")]}),console.log(a);case 13:case"end":return e.stop()}}),e)}))),[p]),u&&(t=u.DV.Location.Period.map((function(e){return Object(a.jsx)(O,{day:e},e.Rep.$)})));var f=function(){x(r),o()};return u?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{onMouseDown:f,onMouseLeave:f,children:"Re-render"}),t]})}):Object(a.jsx)("h2",{id:"loading",children:" ...loading..."})},g=function(e){var t,n=e.data,c=(t={0:" \u2728 Clear night",1:" \u2600\ufe0f Sunny day",2:" \u26c5\ufe0f Partly cloudy (night)",3:" \u26c5\ufe0f Partly cloudy (day)",4:"Not used",5:" \ud83c\udf2b Mist",6:" \ud83c\udf2b Fog",7:" \u2601 Cloudy",8:" \ud83c\udf25 Overcast",9:" \u2614\ufe0f Light rain shower (night)",10:" \u2614\ufe0f Light rain shower (day)",11:" \u2614\ufe0f Drizzle",12:" \u2614\ufe0f Light rain",13:" \ud83c\udf27 Heavy rain shower (night)",14:" \ud83c\udf27 Heavy rain shower (day)",15:" \ud83c\udf27 Heavy rain",16:" \ud83c\udf27 \ud83c\udf28 Sleet shower (night)",17:"\ud83c\udf27 \ud83c\udf28 Sleet shower (day)",18:"\ud83c\udf27 \ud83c\udf28 Sleet",19:" \u2744\ufe0f Hail shower (night)",20:" \u2744\ufe0f Hail shower (day)",21:" \u2744\ufe0f Hail"},Object(u.a)(t,"18"," \ud83c\udf27 \ud83c\udf28 Sleet"),Object(u.a)(t,22," \ud83c\udf28 Light snow shower (night)"),Object(u.a)(t,23," \ud83c\udf28 Light snow shower (day)"),Object(u.a)(t,24," \ud83c\udf28 Light snow"),Object(u.a)(t,25," \ud83c\udf28\ud83c\udf28 Heavy snow shower (night)"),Object(u.a)(t,26," \ud83c\udf28\ud83c\udf28 Heavy snow shower (day)"),Object(u.a)(t,27," \ud83c\udf28\ud83c\udf28 Heavy snow"),Object(u.a)(t,28," \u26c8 Thunder shower (night)"),Object(u.a)(t,29," \u26c8 Thunder shower (day)"),Object(u.a)(t,30," \u26c8 Thunder"),t);return n?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"todays-card",children:[Object(a.jsx)("h3",{children:" Met Office:  "}),Object(a.jsxs)("h4",{children:[" ",c[n.W]," "]}),Object(a.jsxs)("p",{children:[" Temperature: ",n.T,"\xb0C ",Object(a.jsx)("br",{}),"Chance of rain: ",n.Pp,"% ",Object(a.jsx)("br",{}),"Wind Speed: ",n.S,"mph"]})]})}):null},w=function(){var e,t=Object(c.useState)("Edinburgh"),n=Object(j.a)(t,2),i=n[0],r=n[1],o=Object(c.useState)(3166),s=Object(j.a)(o,2),d=s[0],h=s[1],l=Object(c.useState)(),b=Object(j.a)(l,2),u=(b[0],b[1],Object(c.useState)([])),O=Object(j.a)(u,2),w=O[0],p=O[1],x=Object(c.useState)(),f=Object(j.a)(x,2),v=f[0],m=f[1];v&&(e=v.map((function(e){return Object(a.jsx)("option",{value:e.location,children:e.location},e.id)})));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("h1",{children:[" ",i," "]}),Object(a.jsxs)("label",{htmlFor:"location-input",children:[" Choose location...",Object(a.jsx)("input",{list:"location-input",onChange:function(e){r(e.target.value)},placeholder:"Edinburgh"}),Object(a.jsx)("datalist",{id:"location-input",value:i,placeholder:"Choose location...",children:e})]}),Object(a.jsx)(g,{data:w.metOfficeToday}),Object(a.jsx)(y,{handleSetKey:function(){h(v[v.findIndex((function(e){return e.location==i}))].id)},getTodaysWeather:function(e,t){p(e)},locations:v,setLocations:m,locationKey:d})]})};var p=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(w,{})})};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(p,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.bd638a32.chunk.js.map